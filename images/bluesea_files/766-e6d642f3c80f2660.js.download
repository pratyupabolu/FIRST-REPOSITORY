(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[766,6832],{53346:function(e,t,n){"use strict";n.d(t,{F:function(){return P}});var r=n(52322),a=n(19602),o=n(70241),i=n(5632),l=n(2784),c=n(53054),s=n(74784),u=n(53044),d=n(74133),f=n(94951),m=n(17581);let h=(0,l.forwardRef)((e,t)=>(0,r.jsx)(d.x,{as:"button",width:"".concat(45),height:"".concat(45),position:"absolute",right:{default:"0",lg:"15"},top:{default:"-45",lg:"20"},color:"white",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"sm",backgroundColor:{default:"transparent",hover:"white/20"},...e,ref:t,children:(0,r.jsx)(f.J,{as:m.Z})}));var g=n(30195);let p=()=>{let e=(0,i.useRouter)(),t=(0,c.Zk)();(0,l.useEffect)(()=>{let n=(e,n)=>{let{shallow:r}=n;r||t()};return e.events.on("routeChangeComplete",n),()=>{e.events.off("routeChangeComplete",n)}},[t,e])},b=()=>{let e=(0,c.Mr)(),t=(0,i.useRouter)(),n=(0,c.aJ)();return p(),t.beforePopState(t=>{let{as:r,options:a}=t,{shallow:o}=a;if(!o)return!0;if(n&&r.endsWith(n.as))return e(null),!0;let i=v.safeParse(r);return e(i.success?i.data:null),!1}),null},v=g.z.string().min(4).max(255).transform((e,t)=>{try{var n;let t=null===(n=e.split("#").shift())||void 0===n?void 0:n.split("_").pop();return g.z.coerce.number().parse(t).valueOf()}catch(e){return t.addIssue({code:g.z.ZodIssueCode.custom,message:"ID could not be extracted from code"}),g.z.NEVER}});var w=n(85459),_=n(43943);n(71705);let k={Prev:_.Z,Next:w.Z},x=(0,l.forwardRef)((e,t)=>{let{direction:n,...a}=e;return(0,r.jsx)(d.x,{as:"button",width:"45",height:"45",position:"absolute",top:"half",color:"white",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"sm",backgroundColor:{default:"transparent",hover:"white/20"},...a,left:"Prev"===n?"15":void 0,right:"Next"===n?"15":void 0,className:"_1rmnktx0",ref:t,"data-cy":"".concat("Prev"===n?"prev":"next","-video"),children:(0,r.jsx)(f.J,{as:k[n]})})}),y=e=>{let{urlDetailGenerator:t}=e,[n,a]=(0,c.iA)(),{previousResource:o,nextResource:i}=(0,c.CY)(t);return(j(o,i),o||i)?(0,r.jsxs)(d.x,{as:"nav",display:{default:"none",lg:"block"},children:[(0,r.jsx)(x,{direction:"Prev",onClick:o,disabled:!o||n}),(0,r.jsx)(x,{direction:"Next",onClick:i,disabled:!i||n})]}):null},j=(e,t)=>{let[n]=(0,c.iA)();(0,l.useEffect)(()=>{let r=r=>{!n&&("ArrowLeft"===r.key?e&&e():"ArrowRight"===r.key&&t&&t())};return document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}},[e,t,n])};n(39515),n(62159),n(20419);var C=(0,n(46724).c)({defaultClassName:"_btqskg6 _btqskg3 _1286nb12il _1286nb128l _1286nb14jf _1286nb14k7 _1286nb14kr _1286nb14lj _1286nb14m3 _1286nb14mv _1286nb14nf _1286nb14o7 _1286nb187s _1286nb12el _1286nb12dp _1286nb1229 _1286nb123z _1286nb11b3 _1286nb1191 _1286nb13kr",variantClassNames:{isRemoveBackgroundOnboardingEnabled:{true:"_1286nb1h _1286nb1k _1286nb17v",false:"_1286nb1g _1286nb1j"}},defaultVariants:{isRemoveBackgroundOnboardingEnabled:!1},compoundVariants:[]}),R="_1286nb11zr _1286nb11l3 _1286nb12h9 _1286nb12k1 _1286nb1279 _1286nb12a1 _1286nb11a9 _1286nb13el _1286nb146f _1286nb146w _1286nb19f _1286nb13kr",E="_1286nb19x _1286nb1i9 _1286nb1ql _1286nb1yx _1286nb12t9 _1286nb12tx _1286nb15 _1286nb19l _1286nb117l _1286nb179s _1286nb189 _1286nb191";let N=e=>{let{children:t}=e,{disableOnboarding:n}=(0,s.$q)();return(0,r.jsx)(o.aV,{className:E,onClick:n,children:(0,r.jsx)(o.VY,{className:R,onInteractOutside:e=>e.preventDefault(),children:(0,r.jsx)("div",{className:C({isRemoveBackgroundOnboardingEnabled:!0}),children:t})})})},P=e=>{let{urlDetailGenerator:t,children:n}=e,i=S(),c=q(),u=A(),{isRemoveBackgroundOnboardingEnabled:d}=(0,s.$q)();(0,a.$6)(i);let f=(0,l.useCallback)(e=>{let t=e.target;t&&"dialog"===t.getAttribute("role")&&c()},[c]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b,{}),(0,r.jsx)(o.fC,{open:i,onOpenChange:c,modal:!0,children:d?(0,r.jsx)(N,{children:n}):(0,r.jsx)(o.aV,{className:E,onClick:f,children:(0,r.jsxs)(o.VY,{className:R,children:[(0,r.jsx)(o.x8,{asChild:!0,children:(0,r.jsx)(h,{})}),(0,r.jsx)(y,{urlDetailGenerator:t}),(0,r.jsx)("div",{className:C(),ref:u,children:n})]})})})]})},q=()=>{let e=(0,c.Zk)(),{push:t}=(0,i.useRouter)(),n=(0,c.aJ)();return(0,l.useCallback)(()=>{if(null===n){e();return}t({pathname:n.pathname,query:n.query},n.as,{shallow:!0,scroll:!1}).then(()=>{e(),setTimeout(()=>(0,u.c1)("ssmNavigate"),500)})},[e,n,t])},S=()=>null!==(0,c.bA)(),A=()=>{let e=(0,l.useRef)(null),t=(0,c.bA)();return(0,l.useEffect)(()=>{t&&e.current&&(e.current.scrollTop=0)},[t]),e}},20722:function(e,t,n){"use strict";n.d(t,{B:function(){return m}});var r=n(52322),a=n(96308),o=n(34989),i=n(94951),l=n(61909),c=n(16490),s=n(7415),u=n(58358),d=n(53054),f=n(1867);let m=e=>{let{id:t,name:n,type:m,buttonClassName:h,labelClassName:g,preview:{width:p,height:b,url:v},showTooltip:w=!1,tooltipSide:_,inThumbnail:k=!1}=e,{t:x}=(0,s.$G)("common"),y=(0,f.z)(v,p,b),j=(0,d.Zk)(),C=(0,o.n)(),R=(0,u.fD)({event_name:k?"similar_images_thumbnail":"similar_images",file_id:t.toString(),file_name:n,content_group2:m,search_logic_applied:"similar_images"}),E=(0,r.jsxs)("button",{className:h,onClick:async e=>{e.preventDefault(),e.stopPropagation(),R(),j(),await y()},children:[(0,r.jsx)(l.T,{children:x("viewSimilar")}),(0,r.jsx)(i.J,{as:c.Z,size:"base"}),(0,r.jsx)("span",{className:g,children:x("viewSimilar")})]});return w?(0,r.jsx)(a.u,{align:"end",trigger:E,container:C.current,triggerAsChild:!0,side:_,children:x("viewSimilar")}):E}},96832:function(e,t,n){"use strict";n.r(t),n.d(t,{Seo:function(){return f}});var r=n(52322),a=n(69374),o=n(46805),i=n(97729),l=n.n(i),c=n(2784),s=n(69669),u=n(25694);let d=e=>{let{title:t,description:n,url:r,image:a,hashtags:o=[],type:i}=e;return(0,c.useMemo)(()=>{let e=a||{url:"".concat(u.p,"/meta-tags-social/og-fb-logo-en.png?w=1200"),width:1200,height:676},l="".concat(n).concat(o.length>0?" ".concat(o.map(e=>"#".concat(e)).join(" ")):"");return[{property:"og:title",content:t},{property:"og:description",content:l},{property:"og:type",content:i},{property:"og:url",content:r},{property:"og:image",content:e.url},{property:"og:image:width",content:"".concat(e.width)},{property:"og:image:height",content:"".concat(e.height)},{property:"og:image:alt",content:t},{property:"og:site_name",content:"Freepik"},{property:"fb:admins",content:"1031507953"},{property:"twitter:card",content:"summary_large_image"},{property:"twitter:site",content:"@freepik"},{property:"twitter:creator",content:"@freepik"},{property:"twitter:title",content:t},{property:"twitter:image:src",content:e.url},{property:"twitter:url",content:r},{property:"twitter:description",content:l}]},[a,n,o,t,i,r])},f=e=>{let{title:t,description:n,cdns:i,image:u,alternates:f,defaultAlternate:m,noIndex:h=!1,excludeCanonical:g=!1,replaceCanonical:p=[],hashtags:b,forceUrl:v,type:w="article"}=e,_=(0,o.ZK)(),k=(0,a.to)({withParams:!1,replacePaths:!0}),x=(0,a.to)({withQuery:!1,withParams:!1,replacePaths:!0}),y=d({title:t,description:n,url:v||k,image:u,hashtags:b,type:w}),j=(0,c.useMemo)(()=>p.reduce((e,t)=>{let{matcher:n,replace:r}=t;return e.replace(n,r)},x),[x,p]);return(0,r.jsxs)(l(),{children:[(0,r.jsx)("title",{children:t}),n&&(0,r.jsx)("meta",{name:"description",content:n}),s.v.map(e=>{let{rel:t,type:n,href:a,sizes:o}=e;return(0,r.jsx)("link",{rel:t,type:n,href:a,sizes:o},"".concat(t,"-").concat(n&&o?"".concat(n,"-").concat(o):n||o))}),y.map(e=>{let{property:t,content:n}=e;return(0,r.jsx)("meta",{property:t,content:n},t)}),s.m.map(e=>{let{rel:t,href:n,crossOrigin:a}=e;return(0,r.jsx)("link",{rel:t,href:n,crossOrigin:a},"".concat(t,"-").concat(n,"-").concat(a))}),null==i?void 0:i.map(e=>(0,r.jsx)("link",{rel:"dns-prefetch",href:e},e)),(0,r.jsx)("meta",{name:"p:domain_verify",content:"fdda3a988da750af54ad90466dd90119"}),(0,r.jsx)("meta",{name:"facebook-domain-verification",content:"3oh58risl8zubokve93o200pvyihj0"}),(0,r.jsx)("meta",{name:"robots",content:"max-image-preview:large"}),(0,r.jsx)("meta",{name:"lang",content:_}),h&&(0,r.jsx)("meta",{name:"robots",content:"noindex, nofollow, noarchive"}),!g&&(0,r.jsx)("link",{rel:"canonical",href:v||j}),f&&f.map(e=>{let{href:t,lang:n}=e;return(0,r.jsx)("link",{rel:"alternate",hrefLang:n,href:t},n)}),m&&(0,r.jsx)("link",{rel:"alternate",hrefLang:"x-default",href:m})]})}},3949:function(e,t,n){"use strict";n.d(t,{P:function(){return r}});let r=(0,n(2784).createContext)(null)},12276:function(e,t,n){"use strict";n.d(t,{cB:function(){return c},ql:function(){return s.q}});var r=n(3949),a=n(52322),o=n(5632),i=n(2784),l=n(53054);let c=e=>{let{children:t}=e,{asPath:n}=(0,o.useRouter)(),[c,s]=(0,i.useState)("original"),[u,d]=(0,i.useState)(!0),[f,m]=(0,i.useState)(!1),[h,g]=(0,i.useState)(!1),[p,b]=(0,l.iA)(),v=(0,i.useMemo)(()=>({imagePreviewMode:c,setImagePreviewMode:s,isRemoveBackgroundLoading:f,setIsRemoveBackgroundLoading:m,isRemoveBackgroundActive:"transparent"===c,removeBackgroundAnimationEnd:u,setRemoveBackgroundAnimationEnd:d,forceRemoveBackgroundButtonTooltip:h,setForceRemoveBackgroundButtonTooltip:g}),[h,c,f,u]);return(0,i.useEffect)(()=>{s("original"),d(!0)},[n]),(0,i.useEffect)(()=>{b(f)},[f,b]),(0,a.jsx)(r.P.Provider,{value:v,children:t})};var s=n(496)},496:function(e,t,n){"use strict";n.d(t,{q:function(){return o}});var r=n(2784),a=n(3949);let o=()=>{let e=(0,r.useContext)(a.P);if(null===e)throw Error("useRemoveBackgroundState must be used within a DetailRemoveBackgroundProvider");return e}},49361:function(e,t,n){"use strict";n.d(t,{MF:function(){return l},_R:function(){return r},d2:function(){return i},jR:function(){return o},wj:function(){return a}});let r=2e3,a=15,o="REMOVE_BACKGROUND_ONBOARDING",i=new Date(2024,4,13,12,0,0),l=["photo"]},32365:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});let r=async e=>{if(!e)return;let t=await fetch("/api/ai/remove-background-check?uuid=".concat(e));if(200!==t.status)return null;let{image_url:n}=await t.json();return n}},30165:function(e,t,n){"use strict";n.d(t,{Ux:function(){return o},CA:function(){return N},$q:function(){return P}});var r=n(67298),a=n(49361);let o=()=>{let{type:e}=(0,r.ph)();return a.MF.includes(e)};var i=n(9691),l=n(2784),c=n(53476),s=n(496),u=n(28019),d=n(12798),f=n(74923),m=n(12276);let h=()=>{let{setForceRemoveBackgroundButtonTooltip:e,setIsRemoveBackgroundLoading:t}=(0,m.ql)(),n=(0,d.J)();return(0,l.useCallback)(async r=>{let a=(0,f.L)(),o=await fetch("/api/ai/remove-background",{method:"POST",body:JSON.stringify({resourceId:r,uuid:a})});if(429===o.status)return e(!0),t(!1),await n(),null;if(!o.ok)throw Error("Failed to remove background");return a},[e,t])};var g=n(9626),p=n(32365),b=n(42433),v=n(10854);let w=(e,t)=>{let n=new Image;n.onload=function(){let e=document.createElement("canvas"),r=e.getContext("2d");if(e.width=n.width,e.height=n.height,!r){t(!1);return}r.drawImage(n,0,0);let a=r.getImageData(0,0,e.width,e.height).data;for(let e=0;e<a.length;e+=4)if(0!==a[e+3]){t(!0);return}t(!1)},n.src=e},_=e=>fetch(e).then(e=>e.blob()).then(e=>new Promise(t=>{let n=new FileReader;n.onload=function(){t(this.result)},n.readAsDataURL(e)}));var k=n(71599),x=n(92274);let y=()=>(0,l.useCallback)(()=>{(0,x.r)("bb6a004a-8f03-4d2a-88fb-a63499d4591a").then(e=>{e.init(),e.logEvent("remove_bg")})},[]),j=()=>{let{id:e}=(0,b.ph)(),{setIsRemoveBackgroundLoading:t,setImagePreviewMode:n}=(0,s.q)(),r=(0,c.Zl)((0,u.e)(e));return(0,l.useCallback)(e=>{t(!1),n("transparent"),e&&r(e)},[n,t,r])},C=()=>{let e=(0,k.V)(),t=j(),{id:n,premium:r,regularType:a}=(0,b.ph)(),{setIsRemoveBackgroundLoading:o}=(0,s.q)(),i=(0,v.mS)(),c=y();return(0,l.useCallback)(async l=>{try{let o=await _(l);w(o,l=>{if(!l){e("error");return}t(o),i({resourceId:n,isResourcePremium:r,resourceType:a,downloadType:"remove_background"}),c()})}catch(t){e("error"),o(!1)}},[n,r,a,o,e,c,i,t])},R=()=>{let e=(0,l.useRef)(0),t=(0,l.useRef)(null),n=C(),{setIsRemoveBackgroundLoading:r}=(0,m.ql)(),o=(0,k.V)(),i=(0,g.Jb)();return(0,l.useCallback)(l=>{t.current=setInterval(async()=>{if(e.current>=a.wj){t.current&&clearInterval(t.current),o("error"),r(!1);return}e.current+=1;let c=await (0,p.X)(l);c&&(n(c),await i(),t.current&&clearInterval(t.current))},a._R)},[n,r,o,i])},E=()=>{let{id:e,premium:t}=(0,r.ph)(),{setIsRemoveBackgroundLoading:n}=(0,s.q)(),a=(0,c.sJ)((0,u.e)(e)),o=(0,k.V)(),d=R(),f=j(),m=(0,i.PN)(),g=h(),p=(0,l.useCallback)(()=>m({event:"ga4event",event_name:"background_remove",category:"photo",file_id:e,license:t?"premium":"free",location:"resource_detail"}),[e,t,m]);return(0,l.useCallback)(async()=>{if(n(!0),a){f();return}try{p();let t=await g(e);if(!t){n(!1);return}d(t)}catch(e){o("error"),n(!1)}},[n,a,f,o,p,g,e,d])},N=()=>{let e=E(),{hideAttribution:t}=(0,b.ph)(),{isRemoveBackgroundActive:n,setImagePreviewMode:r,setRemoveBackgroundAnimationEnd:a}=(0,s.q)();return(0,l.useCallback)(async()=>{a(!1),t(),n?r("original"):await e()},[t,n,e,r,a])},P=()=>{let[e,t]=(0,c.FV)(u.y),n=(0,l.useCallback)(()=>{!(Date.now()>a.d2.getTime())&&(localStorage.getItem(a.jR)||t(!0))},[t]),r=(0,l.useCallback)(()=>{localStorage.setItem(a.jR,"true"),t(!1)},[t]);return(0,l.useMemo)(()=>({isRemoveBackgroundOnboardingEnabled:e,enableOnboarding:n,disableOnboarding:r}),[r,n,e])}},71599:function(e,t,n){"use strict";n.d(t,{V:function(){return i}});var r=n(7415),a=n(2784),o=n(85074);let i=()=>{let{setToast:e}=(0,o.p)(),{t}=(0,r.$G)("detail");return(0,a.useCallback)(n=>{e({success:{type:"success",title:t("removeBackground.successTitle"),message:t("removeBackground.successMessage"),duration:3e3},error:{type:"danger",title:t("removeBackground.errorTitle"),message:t("removeBackground.errorMessage"),duration:3e3}}[n])},[e,t])}},74784:function(e,t,n){"use strict";n.d(t,{$q:function(){return a.$q},CA:function(){return a.CA},Ux:function(){return a.Ux},ql:function(){return r.ql}});var r=n(12276),a=n(30165)},28019:function(e,t,n){"use strict";n.d(t,{e:function(){return o},y:function(){return i}});var r=n(53476);let a=(0,r.cn)({key:"removeBackgroundStorageState",default:{}}),o=(0,r.CG)({key:"removeBackgroundStorage",get:e=>t=>{let{get:n}=t;return n(a)[e]},set:e=>(t,n)=>{let{set:o,get:i}=t;if(n instanceof r.nY)return;let l=i(a);o(a,{...l,[e]:n})}}),i=(0,r.cn)({key:"isRemoveBackgroundOnboardingEnabledState",default:!1})},16490:function(e,t,n){"use strict";var r=n(52322);t.Z=e=>(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-49 141 512 512",width:16,height:16,"aria-hidden":!0,...e,children:[(0,r.jsx)("path",{d:"M207 452a25 25 0 0 1-12.261-3.213l-231-130a25 25 0 0 1-.071-43.533l231-131a25 25 0 0 1 24.664 0l231 131a25.002 25.002 0 0 1-.071 43.533l-231 130A25 25 0 0 1 207 452M26.826 296.917 207 398.313l180.174-101.396L207 194.74z"}),(0,r.jsx)("path",{d:"M207 553a25 25 0 0 1-12.261-3.213l-231-130c-12.033-6.771-16.298-22.016-9.526-34.048 6.772-12.035 22.016-16.298 34.048-9.526L207 499.314l218.739-123.101c12.031-6.771 27.275-2.506 34.048 9.526 6.771 12.032 2.507 27.276-9.526 34.048l-231 130A25 25 0 0 1 207 553"}),(0,r.jsx)("path",{d:"M207 653a25 25 0 0 1-12.261-3.213l-231-130c-12.033-6.771-16.298-22.016-9.526-34.048 6.772-12.035 22.016-16.298 34.048-9.526L207 599.314l218.739-123.101c12.031-6.772 27.275-2.507 34.048 9.526 6.771 12.032 2.507 27.276-9.526 34.048l-231 130A25 25 0 0 1 207 653"})]})},69374:function(e,t,n){"use strict";n.d(t,{Bw:function(){return i},to:function(){return u}});var r=n(52322),a=n(2784);let o=(0,a.createContext)(e=>e),i=e=>{let{children:t,fixerUrl:n}=e;return(0,r.jsx)(o.Provider,{value:n,children:t})},l=()=>(0,a.useContext)(o);var c=n(46805),s=n(5632);let u=function(){let{withQuery:e=!0,withParams:t=!1,replacePaths:n=!1,onlyQuery:r=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{domain:o,routes:i}=(0,c.Vx)(),{asPath:u}=(0,s.useRouter)(),[d,f]=u.split("#"),[m,h]=d.split("?"),g=l();return(0,a.useMemo)(()=>{if(r)return h;let a=g(m),l=i&&n?a.split("/").reduce((e,t)=>t.length>0?"".concat(e).concat(i["/".concat(t)]||"/".concat(t)):e,""):a;return"".concat(o).concat(l).concat(e&&h?"?".concat(h):"").concat(f&&t?"#".concat(f):"")},[o,g,f,r,m,h,n,i,t,e])}},71705:function(){},20419:function(){},92274:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});let r=new Map,a=async(e,t)=>{if(!e)throw Error("Missing api key");r.has(e)||r.set(e,new Promise(n=>{let r=`usersnapCallback_${Math.random().toString().slice(2)}`;if(e){let a=t?`&n=${t}`:"",o=`//widget.usersnap.com/global/load/${e}?onload=${r}${a}`;if(!window[r]){window[r]=e=>(delete window[r],n(e));let e=document.createElement("script");e.defer=!0,e.nonce=t,e.onerror=()=>{throw Error("Wrong api key or paused project")},e.src=o,document.head.appendChild(e)}}}));let n=await r.get(e);return{init:async e=>{await n.init(e)},logEvent:async e=>{await n.logEvent(e)},show:async e=>await n.show(e),hide:async e=>{await n.hide(e)},destroy:async()=>{await n.destroy()},on:(e,t)=>{n.on(e,t)},off:(e,t)=>{n.off(e,t)}}}}}]);